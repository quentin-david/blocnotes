{% extends 'QTAppliBundle:Base:base.html.twig' %}


{% block listes %}
	<h4>Liste des noeuds</h4>
		<ul style="padding-left: 5px">
		{% for noeud in liste_noeuds %}
			{#<a href="#" id="{{info}}">{{info}}</a>#}
			<li style="list-style-type: none">
				<a href="{{ path('editer_noeud', {'noeud_num': noeud.id}) }}">{{noeud.nom}}</a>
			</li>
		{% endfor %}
		</ul>

{% endblock %}

{% block lanceurs %}
	<p>
		<a href="{{ path('creer_noeud') }}">
			<img src="{{ asset('pictures/EditBlack.png') }}" class="w3-circle" style="height:35px;width:35px;margin-left:10px" alt="Ajout Topic">
		</a>
	</p>
{% endblock %}

{% block contenu %}
	{% if application.nom is defined %}
		<h2 class="titre">Cartographie de l'application {{application.nom }}</h2>
	
		<h3>Description
			<a href="{{ path('editer_application') }}">
				<img src="{{ asset('pictures/EditBlack.png') }}" class="w3-circle" style="height:25px;width:25px;margin-left:10px" alt="Ajout Topic">
			</a>
		</h3>
			<div class="w3-card-2 w3-round w3-black bloc_redige">
				{{ application.description|raw }}
			</div>

		<h3>Liste des noeuds de l'application</h3>
		{#<ul>
		{% for noeud in liste_noeuds %}
			<li>
				{{ noeud.nom }}
				<a href="{{ path('editer_noeud', {'noeud_num': noeud.id}) }}">
					<img src="{{ asset('pictures/EditBlack.png') }}" class="w3-circle" style="height:15px;width:15px;margin-left:5px" alt="Ajout">
				</a>
				<a href="{{ path('supprimer_noeud', {'noeud_num': noeud.id}) }}">
					<img src="{{ asset('pictures/DeleteRed.png') }}" class="w3-circle" style="height:15px;width:15px;margin-left:5px" alt="Ajout">
				</a>
			</li>
		{% endfor %}
		</ul>#}
		<table class="formulaire" style="border: 1px solid black">
			<tr>
				<th>Nom serveur</th>
				<th>IP admin</th>
				<th>IP data</th>
			</tr>
		{% for noeud in liste_noeuds %}
			<tr>
				<td>
					{{ noeud.nom }}
					<a href="{{ path('editer_noeud', {'noeud_num': noeud.id}) }}">
						<img src="{{ asset('pictures/EditBlack.png') }}" class="w3-circle" style="height:15px;width:15px;margin-left:5px" alt="Ajout">
					</a>
					<a href="{{ path('supprimer_noeud', {'noeud_num': noeud.id}) }}">
						<img src="{{ asset('pictures/DeleteRed.png') }}" class="w3-circle" style="height:15px;width:15px;margin-left:5px" alt="Ajout">
					</a>
				</td>
				<td>
					{{ noeud.ipAdmin }}
				</td>
				<td>
					{{ noeud.ipData }}
				</td>
			</tr>
		{% endfor %}
		</table>
	{% else %}
		<h2 class="titre">Appli inconnue</h2>
	{% endif %}
		
{% endblock %}